{% extends 'core/base.html' %}
{% block title %}Explore{% endblock %}
{% block content %}
<div class="grid">
  {% for p in posts %}
    <div class="tile position-relative">
      <div class="post-media">
        {% if p.is_video %}
          <video src="{{ p.media.url }}" muted autoplay loop playsinline></video>
        {% else %}
          <img src="{{ p.media.url }}" alt="">
        {% endif %}
      </div>

      <!-- Overlay with author + caption -->
      <div class="position-absolute bottom-0 start-0 w-100 p-2 bg-dark bg-opacity-50 text-white small">
        <strong>@{{ p.author.username }}</strong>
        {% if p.caption %}
          â€“ {{ p.caption|truncatechars:50 }}
        {% endif %}
      </div>
    </div>
  {% empty %}
    <p class="text-muted">No posts to explore yet.</p>
  {% endfor %}
</div>
{% endblock %}